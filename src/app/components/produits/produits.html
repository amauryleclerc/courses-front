<div>
    <div class="alert alert-success" *ngIf="success" >
        <strong>Success!</strong> Produit modifié avec succès
    </div>
</div>
<h3>Produits</h3>
<table class="table table-hover">
    <thead>
        <tr>
            <th (click)="trierParLibelle()">Libelle</th>
            <th (click)="trierParCategorie()">Catégorie</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="#produit of produits #i=index">

            <td *ngIf="i != edit"> {{produit.libelle}}</td>
            <td *ngIf="i != edit"> {{produit.categorie.libelle}}</td>
            <td *ngIf="i != edit">
                <button class="btn btn-default " (click)="edit = i"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            </td>


            <td *ngIf="i == edit"> <input type="text"  [(ngModel)]="produit.libelle" /></td>
            <td *ngIf="i == edit"> {{produit.categorie.libelle}}</td>
            <td *ngIf="i == edit">
                <button class="btn btn-primary " (click)="putProduit(produit)"> <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
            </td>
           
        </tr>

    </tbody>
</table>

<div class="error" *ngIf="errorMessage">{{errorMessage}}</div>